generator client {
  provider = "prisma-client-js"
}

generator nestgraphql {
    provider = "node node_modules/prisma-nestjs-graphql"
    output = "../../../models"
}

datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

model TaskList {
  tlid          String      @id @default(uuid())
  name          String      @unique
  desciprtion   String   
  tasks         Task[]
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt

  @@map("TBL_TaskList")
}

model Task {
  tid       Int         @id @default(autoincrement())
  taskList  TaskList    @relation(fields: [tlid], references: [tlid])
  tlid      String     
  name      String
  status    Boolean     @default(false)
  state     State       @default(WATING)
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt

  @@map("TBL_Task")
}

enum State {
  WAITING
  PROGRESS
  VALIDATE
  DONE
}